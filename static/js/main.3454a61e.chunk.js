(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){},30:function(e,t,a){e.exports=a(65)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(23),i=a.n(o),r=(a(35),a(4)),s=a(5),l=a(8),m=a(6),u=a(7),d=(a(36),a(37),a(11)),h=(a(38),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.temp_c,a=e.isDay,n=e.text,o=e.iconURL,i=e.city;return c.a.createElement("div",{className:"weather-container"},c.a.createElement("div",{className:"header"},i),c.a.createElement("div",{className:"inner-container"},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:o,alt:"Weather_icon"})),c.a.createElement("div",{className:"weather-now"},t,"\xb0C")),c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"isDay"},1===a?"Day":"Night"),c.a.createElement("div",{className:"condition"},n)))}}]),t}(c.a.Component)),p=a(12),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleKeyDown=function(e){if(13===e.keyCode){var t=a.state.city,n=a.props.eventEmitter;a.setState(function(e){return{isSelectLocationToggled:!e.isSelectLocationToggled}}),n.emit("updateWeather",t)}},a.state={isSelectLocationToggled:!1},a.onSelectLocation=a.onSelectLocation.bind(Object(d.a)(a)),a.toggleSelectLocation=a.toggleSelectLocation.bind(Object(d.a)(a)),a.onLocationChange=a.onLocationChange.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toggleSelectLocation",value:function(){this.setState(function(e){return{isSelectLocationToggled:!e.isSelectLocationToggled}})}},{key:"onLocationChange",value:function(e){this.setState({city:e.target.value})}},{key:"onSelectLocation",value:function(){var e=this.state.city,t=this.props.eventEmitter;this.setState(function(e){return{isSelectLocationToggled:!e.isSelectLocationToggled}}),t.emit("updateWeather",e)}},{key:"render",value:function(){var e=this,t=this.state.isSelectLocationToggled;return c.a.createElement("div",{className:"top-container"},c.a.createElement("div",{className:"title"},"Weather-er"),c.a.createElement(h,this.props),c.a.createElement(p.a,null,c.a.createElement(p.c,null,function(t){var a=t.ref;return c.a.createElement("button",{className:"btn btn-select-location",ref:a,onClick:e.toggleSelectLocation},"Select Location")}),c.a.createElement(p.b,{placement:"top"},function(a){var n=a.ref,o=a.style,i=a.placement,r=a.arrowProps;return t&&c.a.createElement("div",{className:"popup-container",ref:n,style:o,"data-placement":i},c.a.createElement("div",{className:"popup-form"},c.a.createElement("label",{htmlFor:"location-name"},"Location Name"),c.a.createElement("input",{id:"location-name",type:"text",placeholder:"Location name",onChange:e.onLocationChange,onKeyDown:e.handleKeyDown,autoFocus:!0}),c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{className:"btn btn-select-location",onClick:e.onSelectLocation},"Select"),c.a.createElement("button",{className:"btn btn-cancel-location",onClick:e.toggleSelectLocation},"Cancel"))),c.a.createElement("div",{ref:r.ref,style:r.style}))})))}}]),t}(c.a.Component),f=(a(17),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.forecastDay;return e?c.a.createElement("div",{className:"forcast-day"},c.a.createElement("h3",{className:"date"},e.date),c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:e.day.condition.icon,alt:"condition icon"})),c.a.createElement("div",{className:"text"},e.day.avgtemp_c,"\xb0C"),c.a.createElement("div",{className:"info"},e.day.condition.text)):null}}]),t}(c.a.Component)),y=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.forecastdays;return c.a.createElement("div",{className:"bottom-container"},e&&e.map(function(e,t){return c.a.createElement(f,{forecastDay:e,key:t})}))}}]),t}(c.a.Component),b=a(27),E=a.n(b),g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={city:"New_York",numForcast:4,isLoading:!0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"updateWeather",value:function(){var e=this,t=this.state,a=t.city,n=t.numForcast,c="https://api.apixu.com/v1/forecast.json?key=".concat("53a5089a8bc4432a819162850190205","   &q=").concat(a,"&days=").concat(n);E.a.get(c).then(function(e){return e.data}).then(function(t){e.setState({isLoading:!1,temp_c:t.current.temp_c,isDay:t.current.is_day,text:t.current.condition.text,iconURL:t.current.condition.icon,city:a.includes("_")?a.replace("_"," "):a,forecastdays:t.forecast.forecastday})}).catch(function(e){e&&console.error("Weather API fetching has been failed, ",e)})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.eventEmitter;this.updateWeather(),t.on("updateWeather",function(t){e.setState({city:t},function(){e.updateWeather()}),console.log("Location name(city): ",t)})}},{key:"render",value:function(){var e=this.state,t=e.city,a=e.temp_c,n=e.isDay,o=e.text,i=e.iconURL,r=e.isLoading,s=e.forecastdays;return c.a.createElement("div",{className:"app-container"},c.a.createElement("div",{className:"main-container"},r&&c.a.createElement("h3",null,"Loading weather..."),!r&&c.a.createElement("div",{className:"top-section"},c.a.createElement(v,{city:t,temp_c:a,isDay:n,text:o,iconURL:i,eventEmitter:this.props.eventEmitter})),c.a.createElement("div",{className:"bottom-section"},c.a.createElement(y,{forecastdays:s}))))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=a(29),O=a(28),L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).eventEmitter=new O.EventEmitter,a.state={appName:"R-Weather"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.Children.map(this.props.children,function(t){return c.a.cloneElement(t,Object(j.a)({},e.state,{eventEmitter:e.eventEmitter}))})}}]),t}(c.a.Component);i.a.render(c.a.createElement(L,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.3454a61e.chunk.js.map